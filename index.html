<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Adnan ‚Äî Ad-Reduced Video Player</title>

  <!-- Basic CSP: ‡¶∏‡ßÄ‡¶Æ‡¶ø‡¶§ ‡¶∏‡ßã‡¶∞‡ßç‡¶∏‡¶ó‡ßÅ‡¶≤‡ßã‡¶á ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá (iframe ‡¶≠‡¶ø‡¶§‡¶∞‡ßá‡¶∞ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü‡¶ï‡ßá ‡¶™‡ßÅ‡¶∞‡ßã‡¶™‡ßÅ‡¶∞‡¶ø ‡¶®‡¶ø‡ßü‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º ‡¶®‡¶æ) -->
  <meta http-equiv="Content-Security-Policy"
        content="
          default-src 'self';
          script-src 'self' https://www.youtube-nocookie.com https://www.youtube.com 'unsafe-inline' 'unsafe-eval';
          connect-src 'self' https://www.youtube-nocookie.com https://www.youtube.com;
          img-src 'self' data: https://i.ytimg.com;
          frame-src https://www.youtube-nocookie.com https://www.youtube.com;
          style-src 'self' 'unsafe-inline';
        ">

  <style>
    :root{
      --bg:#071018; --card:#0f1720; --accent:#35e6b6; --muted:#9aa7b2; --text:#e6f6f3;
      --r:12px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; display:flex; align-items:center; justify-content:center;
      background:linear-gradient(180deg,#04121a 0%, #071018 100%); color:var(--text);
      font-family:Inter, "Segoe UI", Roboto, Arial, sans-serif; padding:24px;
    }
    .wrap{width:100%; max-width:920px;}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));
      border-radius:var(--r); padding:20px; box-shadow:0 10px 40px rgba(2,6,23,0.6);}
    h1{margin:0 0 6px 0; color:var(--accent); font-size:20px;}
    p.lead{margin:0 0 14px 0; color:var(--muted); font-size:13px;}
    .controls{display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin-bottom:12px;}
    input[type="text"]{
      flex:1; min-width:220px; padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.04);
      background:#071a22; color:var(--text); outline:none;
    }
    button{
      padding:10px 14px; border-radius:10px; border:none; cursor:pointer; font-weight:600;
      background:var(--accent); color:#022; transition:transform .12s ease;
    }
    button:active{transform:translateY(1px)}
    .note{font-size:12px;color:var(--muted); margin-top:10px;}
    /* responsive iframe container */
    .player-wrap{margin-top:10px; border-radius:12px; overflow:hidden; background:#000;}
    .player-wrap .frame{
      width:100%; aspect-ratio:16/9; border:0; display:block;
    }
    .small-help{font-size:12px;color:var(--muted); margin-top:8px;}
    .warn{color:#ff7b7b; font-weight:600; margin-top:8px;}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Adnan ‚Äî Ad-Reduced Video Player</h1>
      <p class="lead">‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ö‡¶æ‡¶≤‡¶æ‡¶§‡ßá ‡¶ï‡ßá‡¶¨‡¶≤ YouTube ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì **ID** ‡¶¶‡¶ø‡¶® (‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£: <code>dQw4w9WgXcQ</code>) ‚Äî ‡¶™‡ßá‡¶ú URL-‡¶è ‡¶ï‡ßã‡¶®‡ßã ‚Äúyoutube‚Äù ‡¶∂‡¶¨‡ßç‡¶¶ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá ‡¶®‡¶æ‡•§</p>

      <div class="controls">
        <input id="vidInput" type="text" placeholder="‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶Ü‡¶á‡¶°‡¶ø ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® ‚Äî ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£: dQw4w9WgXcQ" aria-label="Video ID">
        <button id="playBtn">‚ñ∂ ‡¶™‡ßç‡¶≤‡ßá</button>
        <button id="muteBtn" title="Mute/unmute (effort to reduce autoplay sound)">üîà mute</button>
      </div>

      <div class="player-wrap" id="playerWrap">
        <!-- iframe src will be set dynamically by JS (minimize static exposure of 'youtube' in source) -->
        <iframe id="ytFrame" class="frame"
                sandbox="allow-scripts allow-forms allow-popups allow-presentation"
                allow="autoplay; encrypted-media; fullscreen"
                srcdoc="<p style='color:#ddd;padding:18px;font-family:system-ui'>‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡ßç‡¶≤‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®...</p>">
        </iframe>
      </div>

      <div class="small-help">Tech-tricks used: privacy-enhanced domain (youtube-nocookie), iframe sandboxing, CSP limits. </div>
      <div class="note">Tip: ‡¶Ø‡¶¶‡¶ø ‡¶¨‡ßç‡¶≤‡¶ï‡¶æ‡¶∞ ‡¶®‡ßá‡¶ü‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶ï-‡¶≤‡ßá‡¶≠‡ßá‡¶≤‡ßá youtube ‡¶°‡ßã‡¶Æ‡ßá‡¶á‡¶® ‡¶∂‡¶®‡¶æ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßá, ‡¶§‡¶¨‡ßá iframe-‡¶è‡¶∞ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá ‡¶®‡¶æ ‚Äî ‡¶∏‡ßá ‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßç‡¶∞‡ßá offline MP4 ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßã‡•§</div>
      <div class="warn" id="warnMsg" aria-live="polite"></div>
    </div>
  </div>

<script>
/*
  Strategy summary (in code):
  - Use youtube-nocookie.com embed (privacy enhanced) to reduce tracking/ads.
  - Set iframe.src dynamically (so plain HTML file doesn't contain youtube text until runtime).
  - Use iframe sandbox WITHOUT allow-same-origin to reduce cookie/access inside iframe (best-effort).
  - Provide user controls and basic messaging about limits.
*/

(function(){
  const vidInput = document.getElementById('vidInput');
  const playBtn = document.getElementById('playBtn');
  const muteBtn = document.getElementById('muteBtn');
  const frame = document.getElementById('ytFrame');
  const warn = document.getElementById('warnMsg');
  let muted = false;

  function setWarn(text){
    warn.textContent = text || '';
  }

  function buildEmbedUrl(id){
    // Using privacy-enhanced domain (youtube-nocookie.com) and player params to reduce ads/tracking.
    // playerVars: modestbranding=1, rel=0, iv_load_policy=3 (no annotations), playsinline=1
    // enablejsapi=1 allows future control; origin param helps but avoid exposing your own origin with youtube keyword concerns.
    const base = "https://www.youtube-nocookie.com";
    const path = "/embed/" + encodeURIComponent(id);
    const qs = [
      "rel=0",
      "modestbranding=1",
      "iv_load_policy=3",
      "playsinline=1",
      "autoplay=1",
      "enablejsapi=1"
    ].join("&");
    return base + path + "?" + qs;
  }

  function isValidId(id){
    // simple validation: common YouTube id characters (letters, numbers, - _)
    return /^[A-Za-z0-9_-]{7,20}$/.test(id);
  }

  playBtn.addEventListener('click', function(){
    setWarn('');
    const id = vidInput.value.trim();
    if(!id){
      setWarn('‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¶‡¶ø‡¶®‡•§ (‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£: dQw4w9WgXcQ)');
      return;
    }
    if(!isValidId(id)){
      setWarn('‡¶Ö‡¶¨‡ßà‡¶ß ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ID‡•§ ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞, ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ, "_" ‡¶è‡¶¨‡¶Ç "-" ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
      return;
    }

    // Build embed URL (contains youtube-nocookie)
    const embed = buildEmbedUrl(id);

    // Set iframe.src dynamically. iframe has sandbox but allows scripts.
    // Because sandbox lacks allow-same-origin, the iframe will run in a unique origin, which reduces cookie access for the youtube player.
    // Note: some iframe features may be limited; this is a trade-off to reduce ads/tracking.
    frame.src = embed;

    // Inform user about possible outcomes
    setTimeout(function(){
      // quick check: if frame fails to load (CSP or network block), warn user after a small delay
      // We can't perfectly detect cross-origin iframe load failures via JS; offer a friendly message.
      setWarn('‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‚Äî ‡¶Ø‡¶¶‡¶ø ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶®‡¶æ ‡¶¶‡ßá‡¶ñ‡ßá‡¶®, ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶≤‡¶ï‡¶æ‡¶∞ ‡¶®‡ßá‡¶ü‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶ï-‡¶≤‡ßá‡¶≠‡ßá‡¶≤‡ßá youtube ‡¶¨‡ßç‡¶≤‡¶ï ‡¶ï‡¶∞‡¶õ‡ßá‡•§');
    }, 600);
  });

  muteBtn.addEventListener('click', function(){
    muted = !muted;
    try{
      // Try to postMessage to player to mute (works if player API accessible)
      frame.contentWindow.postMessage(JSON.stringify({
        event: "command",
        func: muted ? "mute" : "unMute",
        args: []
      }), "*");
    }catch(e){
      // silent
    }
    muteBtn.textContent = muted ? "üîá muted" : "üîà mute";
  });

  // Optional: allow pressing Enter to play
  vidInput.addEventListener('keydown', function(e){
    if(e.key === 'Enter') playBtn.click();
  });

  // Accessibility: prefills sample id if none
  if(!vidInput.value) vidInput.placeholder = "‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£: dQw4w9WgXcQ";
})();
</script>
</body>
</html>
